---

import HeaderLink from './HeaderLink.astro'

const headerLinks = [
  {
    name: 'Home',
    link: '/'
  },
  {
    name: 'Products',
    link: 'https://www.vingtor.no/',
    target: '_blank'
  },
  {
    name: 'For Buisness',
    link: '/for-buisness',
    subLinks: [
      {
        name: 'Inspiration',
        link: '/nor-wool'
      },
      {
        name: 'History',
        link: '/nor-wool'
      },
      {
        name: 'Info',
        link: '/nor-wool'
      },
      {
        name: 'Norwegian Wool',
        link: '/nor-wool'
      }
    ]
  },
  {
    name: 'Nor-Wool',
    link: '/nor-wool',
    subLinks: [
      {
        name: 'Inspiration',
        link: '/nor-wool'
      },
      {
        name: 'History',
        link: '/nor-wool'
      },
      {
        name: 'Info',
        link: '/nor-wool'
      },
      {
        name: 'Norwegian Wool',
        link: '/nor-wool'
      }
    ]
  },
  {
    name: 'Music',
    link: '/music',
  },
  {
    name: 'About',
    link: '/about'
  }
]

---

<style>



  nav a {
    padding: 2.325rem 1.0333rem;
    text-transform: capitalize;
    color: var(--color-primary);
    transition: color .3s ease-in-out;
  }
  nav a:hover{
    color: var(--color-text);
  }
  /* Style the dropdown button */
.dropdown {
  position: relative;
  display: flex;

}
.dropdown a:first-child{
  display: flex;
  /* justify-content: center; */
  align-items: center;
}

/* Style the dropdown content */
.dropdown-content {
  display: none;
  position: absolute;
  z-index: 10;
  background-color: var(--color-bg);
  box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
}

.arrow-down {
  display: inline-block;
  width: 0;
  height: 0;
  margin-left: 0.5rem;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 5px solid var(--color-primary);
  transition: all 0.3s ease-in-out;

}
.dropdown:hover,  nav a:hover{
    color: var(--color-text);
}

/* Rotate the arrow down icon on hover */
.dropdown:hover .arrow-down {
  transform: rotate(-90deg);
  border-top-color : var(--color-text);
}

/* Show the dropdown content on hover */
.dropdown:hover .dropdown-content {
  display: flex;
  flex-direction: column;
}

  @media (width <= 1280px) {
    /* .container {
      flex-direction: column;
      padding-top: 2rem;
      } */
      nav a{
        padding: 1.5rem .5rem;
      }

    
  }

</style>
<header >
  <div class="flex gap-2 sm:flex-col container sm:items-center sm:justify-center justify-between">

    <a class="block max-w-[12.3rem] h-auto py-4 " 
       aria-label="Vingor Home"
       href="/">
      <img src="Vingtor_logo.jpg" alt="Vingtor" />
    </a>
    <nav class="container sm:flex hidden gap-2 items-center justify-center">
      {headerLinks.map((link)=>
         link.subLinks ? 
        <div class="dropdown">
          <HeaderLink href={link.link} target={link.target}>{link.name} <span class="arrow-down"></span></HeaderLink>
          <div class="dropdown-content top-[4.6rem] xl:top-[6.2rem]  ">
            {link.subLinks.map((subLink)=> <HeaderLink href={subLink.link}>{subLink.name}</HeaderLink>)}
          </div>
        </div>
        : <HeaderLink href={link.link} target={link.target}>{link.name} {link.target ? (<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256"><path d="M200,64V168a8,8,0,0,1-16,0V83.31L69.66,197.66a8,8,0,0,1-11.32-11.32L172.69,72H88a8,8,0,0,1,0-16H192A8,8,0,0,1,200,64Z"></path></svg>) : null} </HeaderLink>
      )}
    
    </nav>

    <button class="px-4 py-4 sm:hidden" id="burger">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round"  stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </div>

</header>

<script>
  const burger = document.getElementById('burger')
  const sideMenu = document.querySelector('aside')
  burger.addEventListener('click', ()=>{
    nav.classList.toggle('hidden')
  })
